{"ast":null,"code":"import { isEasingGenerator, isEasingList, noopReturn, defaults } from '@motionone/utils';\nimport { getEasingFunction } from './utils/easing.es.js';\nimport { interpolate } from './utils/interpolate.es.js';\n\nclass Animation {\n  constructor(output) {\n    let keyframes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 1];\n    let {\n      easing = defaults.easing,\n      duration = defaults.duration,\n      delay = defaults.delay,\n      endDelay = defaults.endDelay,\n      repeat = defaults.repeat,\n      offset,\n      direction = \"normal\"\n    } = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    this.startTime = null;\n    this.rate = 1;\n    this.t = 0;\n    this.cancelTimestamp = null;\n    this.playState = \"idle\";\n    this.finished = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n\n    if (isEasingGenerator(easing)) {\n      const custom = easing.createAnimation(keyframes, () => \"0\", true);\n      easing = custom.easing;\n      if (custom.keyframes !== undefined) keyframes = custom.keyframes;\n      if (custom.duration !== undefined) duration = custom.duration;\n    }\n\n    const animationEasing = isEasingList(easing) ? noopReturn : getEasingFunction(easing);\n    const totalDuration = duration * (repeat + 1);\n    const interpolate$1 = interpolate(keyframes, offset, isEasingList(easing) ? easing.map(getEasingFunction) : noopReturn);\n\n    this.tick = timestamp => {\n      var _a; // TODO: Temporary fix for OptionsResolver typing\n\n\n      delay = delay;\n      if (this.pauseTime) timestamp = this.pauseTime;\n      let t = (timestamp - this.startTime) * this.rate;\n      this.t = t; // Convert to seconds\n\n      t /= 1000; // Rebase on delay\n\n      t = Math.max(t - delay, 0);\n      /**\n       * If this animation has finished, set the current time\n       * to the total duration.\n       */\n\n      if (this.playState === \"finished\") t = totalDuration;\n      /**\n       * Get the current progress (0-1) of the animation. If t is >\n       * than duration we'll get values like 2.5 (midway through the\n       * third iteration)\n       */\n\n      const progress = t / duration; // TODO progress += iterationStart\n\n      /**\n       * Get the current iteration (0 indexed). For instance the floor of\n       * 2.5 is 2.\n       */\n\n      let currentIteration = Math.floor(progress);\n      /**\n       * Get the current progress of the iteration by taking the remainder\n       * so 2.5 is 0.5 through iteration 2\n       */\n\n      let iterationProgress = progress % 1.0;\n\n      if (!iterationProgress && progress >= 1) {\n        iterationProgress = 1;\n      }\n      /**\n       * If iteration progress is 1 we count that as the end\n       * of the previous iteration.\n       */\n\n\n      iterationProgress === 1 && currentIteration--;\n      /**\n       * Reverse progress if we're not running in \"normal\" direction\n       */\n\n      const iterationIsOdd = currentIteration % 2;\n\n      if (direction === \"reverse\" || direction === \"alternate\" && iterationIsOdd || direction === \"alternate-reverse\" && !iterationIsOdd) {\n        iterationProgress = 1 - iterationProgress;\n      }\n\n      const p = t >= totalDuration ? 1 : Math.min(iterationProgress, 1);\n      const latest = interpolate$1(animationEasing(p));\n      output(latest);\n      const isAnimationFinished = this.playState === \"finished\" || t >= totalDuration + endDelay;\n\n      if (isAnimationFinished) {\n        this.playState = \"finished\";\n        (_a = this.resolve) === null || _a === void 0 ? void 0 : _a.call(this, latest);\n      } else if (this.playState !== \"idle\") {\n        this.frameRequestId = requestAnimationFrame(this.tick);\n      }\n    };\n\n    this.play();\n  }\n\n  play() {\n    var _a;\n\n    const now = performance.now();\n    this.playState = \"running\";\n\n    if (this.pauseTime) {\n      this.startTime = now - (this.pauseTime - ((_a = this.startTime) !== null && _a !== void 0 ? _a : 0));\n    } else if (!this.startTime) {\n      this.startTime = now;\n    }\n\n    this.cancelTimestamp = this.startTime;\n    this.pauseTime = undefined;\n    requestAnimationFrame(this.tick);\n  }\n\n  pause() {\n    this.playState = \"paused\";\n    this.pauseTime = performance.now();\n  }\n\n  finish() {\n    this.playState = \"finished\";\n    this.tick(0);\n  }\n\n  stop() {\n    var _a;\n\n    this.playState = \"idle\";\n\n    if (this.frameRequestId !== undefined) {\n      cancelAnimationFrame(this.frameRequestId);\n    }\n\n    (_a = this.reject) === null || _a === void 0 ? void 0 : _a.call(this, false);\n  }\n\n  cancel() {\n    this.stop();\n    this.tick(this.cancelTimestamp);\n  }\n\n  reverse() {\n    this.rate *= -1;\n  }\n\n  commitStyles() {}\n\n  get currentTime() {\n    return this.t;\n  }\n\n  set currentTime(t) {\n    if (this.pauseTime || this.rate === 0) {\n      this.pauseTime = t;\n    } else {\n      this.startTime = performance.now() - t / this.rate;\n    }\n  }\n\n  get playbackRate() {\n    return this.rate;\n  }\n\n  set playbackRate(rate) {\n    this.rate = rate;\n  }\n\n}\n\nexport { Animation };","map":{"version":3,"names":["isEasingGenerator","isEasingList","noopReturn","defaults","getEasingFunction","interpolate","Animation","constructor","output","keyframes","easing","duration","delay","endDelay","repeat","offset","direction","startTime","rate","t","cancelTimestamp","playState","finished","Promise","resolve","reject","custom","createAnimation","undefined","animationEasing","totalDuration","interpolate$1","map","tick","timestamp","_a","pauseTime","Math","max","progress","currentIteration","floor","iterationProgress","iterationIsOdd","p","min","latest","isAnimationFinished","call","frameRequestId","requestAnimationFrame","play","now","performance","pause","finish","stop","cancelAnimationFrame","cancel","reverse","commitStyles","currentTime","playbackRate"],"sources":["/Users/dhanush/Desktop/Work/React/feedback-app/node_modules/@motionone/animation/dist/Animation.es.js"],"sourcesContent":["import { isEasingGenerator, isEasingList, noopReturn, defaults } from '@motionone/utils';\nimport { getEasingFunction } from './utils/easing.es.js';\nimport { interpolate } from './utils/interpolate.es.js';\n\nclass Animation {\n    constructor(output, keyframes = [0, 1], { easing = defaults.easing, duration = defaults.duration, delay = defaults.delay, endDelay = defaults.endDelay, repeat = defaults.repeat, offset, direction = \"normal\", } = {}) {\n        this.startTime = null;\n        this.rate = 1;\n        this.t = 0;\n        this.cancelTimestamp = null;\n        this.playState = \"idle\";\n        this.finished = new Promise((resolve, reject) => {\n            this.resolve = resolve;\n            this.reject = reject;\n        });\n        if (isEasingGenerator(easing)) {\n            const custom = easing.createAnimation(keyframes, () => \"0\", true);\n            easing = custom.easing;\n            if (custom.keyframes !== undefined)\n                keyframes = custom.keyframes;\n            if (custom.duration !== undefined)\n                duration = custom.duration;\n        }\n        const animationEasing = isEasingList(easing)\n            ? noopReturn\n            : getEasingFunction(easing);\n        const totalDuration = duration * (repeat + 1);\n        const interpolate$1 = interpolate(keyframes, offset, isEasingList(easing) ? easing.map(getEasingFunction) : noopReturn);\n        this.tick = (timestamp) => {\n            var _a;\n            // TODO: Temporary fix for OptionsResolver typing\n            delay = delay;\n            if (this.pauseTime)\n                timestamp = this.pauseTime;\n            let t = (timestamp - this.startTime) * this.rate;\n            this.t = t;\n            // Convert to seconds\n            t /= 1000;\n            // Rebase on delay\n            t = Math.max(t - delay, 0);\n            /**\n             * If this animation has finished, set the current time\n             * to the total duration.\n             */\n            if (this.playState === \"finished\")\n                t = totalDuration;\n            /**\n             * Get the current progress (0-1) of the animation. If t is >\n             * than duration we'll get values like 2.5 (midway through the\n             * third iteration)\n             */\n            const progress = t / duration;\n            // TODO progress += iterationStart\n            /**\n             * Get the current iteration (0 indexed). For instance the floor of\n             * 2.5 is 2.\n             */\n            let currentIteration = Math.floor(progress);\n            /**\n             * Get the current progress of the iteration by taking the remainder\n             * so 2.5 is 0.5 through iteration 2\n             */\n            let iterationProgress = progress % 1.0;\n            if (!iterationProgress && progress >= 1) {\n                iterationProgress = 1;\n            }\n            /**\n             * If iteration progress is 1 we count that as the end\n             * of the previous iteration.\n             */\n            iterationProgress === 1 && currentIteration--;\n            /**\n             * Reverse progress if we're not running in \"normal\" direction\n             */\n            const iterationIsOdd = currentIteration % 2;\n            if (direction === \"reverse\" ||\n                (direction === \"alternate\" && iterationIsOdd) ||\n                (direction === \"alternate-reverse\" && !iterationIsOdd)) {\n                iterationProgress = 1 - iterationProgress;\n            }\n            const p = t >= totalDuration ? 1 : Math.min(iterationProgress, 1);\n            const latest = interpolate$1(animationEasing(p));\n            output(latest);\n            const isAnimationFinished = this.playState === \"finished\" || t >= totalDuration + endDelay;\n            if (isAnimationFinished) {\n                this.playState = \"finished\";\n                (_a = this.resolve) === null || _a === void 0 ? void 0 : _a.call(this, latest);\n            }\n            else if (this.playState !== \"idle\") {\n                this.frameRequestId = requestAnimationFrame(this.tick);\n            }\n        };\n        this.play();\n    }\n    play() {\n        var _a;\n        const now = performance.now();\n        this.playState = \"running\";\n        if (this.pauseTime) {\n            this.startTime = now - (this.pauseTime - ((_a = this.startTime) !== null && _a !== void 0 ? _a : 0));\n        }\n        else if (!this.startTime) {\n            this.startTime = now;\n        }\n        this.cancelTimestamp = this.startTime;\n        this.pauseTime = undefined;\n        requestAnimationFrame(this.tick);\n    }\n    pause() {\n        this.playState = \"paused\";\n        this.pauseTime = performance.now();\n    }\n    finish() {\n        this.playState = \"finished\";\n        this.tick(0);\n    }\n    stop() {\n        var _a;\n        this.playState = \"idle\";\n        if (this.frameRequestId !== undefined) {\n            cancelAnimationFrame(this.frameRequestId);\n        }\n        (_a = this.reject) === null || _a === void 0 ? void 0 : _a.call(this, false);\n    }\n    cancel() {\n        this.stop();\n        this.tick(this.cancelTimestamp);\n    }\n    reverse() {\n        this.rate *= -1;\n    }\n    commitStyles() { }\n    get currentTime() {\n        return this.t;\n    }\n    set currentTime(t) {\n        if (this.pauseTime || this.rate === 0) {\n            this.pauseTime = t;\n        }\n        else {\n            this.startTime = performance.now() - t / this.rate;\n        }\n    }\n    get playbackRate() {\n        return this.rate;\n    }\n    set playbackRate(rate) {\n        this.rate = rate;\n    }\n}\n\nexport { Animation };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}